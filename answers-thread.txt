put operation has critical section.